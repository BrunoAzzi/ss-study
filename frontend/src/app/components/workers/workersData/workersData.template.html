<safety-card #safetyCard>
    <safety-card-header>
        <span>dados dos trabalhadores</span>
    </safety-card-header>
    <safety-card-content>
        <form [formGroup]="myForm" (submit)="savePersonalDataWorker(safetyCard)" id="formBasicData" name="formBasicData">
            <div class="form-content">
                <md-card class="image-upload"></md-card>
                <table class="table-form">
                    <tr>
                        <td>
                            <md-input-container>
                              
                                <input mdInput formControlName="cpf" required placeholder="CPF" id="cpf" name="cpf" (blur)="autoCompleteWorker()" [textMask]="{mask: cpfMask}"  [(ngModel)]="cpf">
                                <md-error *ngIf="myForm.controls.cpf.hasError('required')">Campo Obrigatório.</md-error>
                                <md-error *ngIf="myForm.controls.cpf.hasError('cpf')">CPF inválido.</md-error>
                            </md-input-container>
                        </td>
                        <td colspan="2">
                            <md-input-container>
                                <input mdInput formControlName="fullname" required placeholder="Nome" id="name" name="name" [(ngModel)]="fullname">
                                <md-error *ngIf="myForm.controls.fullname.hasError('required')">Campo Obrigatório.</md-error>
                                <md-error *ngIf="myForm.controls.fullname.hasError('onlytext')">São permitidos apenas letras.</md-error>
                            </md-input-container>
                        </td>
                        <td colspan="1">
                            <div class="formato-material radio-material">
                                <p>Sexo:</p>
                                <md-radio-group formControlName="sex" layout-gt-md="row" [(ngModel)]="sexModel">
                                    <div fxLayout="row" fxLayoutAlign="space-around center">
                                        <md-radio-button [(checked)]="masc" value="m">Masculino</md-radio-button>
                                        <md-radio-button [(checked)]="fem" value="f">Feminino</md-radio-button>
                                    </div>
                                </md-radio-group>
                            </div>
                        </td>
                        <td colspan="1"></td>
                    </tr>
                    <tr>
                        <td>
                            <my-date-picker formControlName="birthDate"  name="birthDate" name="birthDate" [(ngModel)]="birthDateModel"  [options]="myDatePickerOptions" placeholder="Data de Nascimento"></my-date-picker>
                        </td>
                        <td>
                            <md-input-container>
                                <input mdInput formControlName="age" name="age" placeholder="Idade" id="age"  [(ngModel)]="modelAge" type="number">
                            </md-input-container>
                        </td>
                        <td>
                            <md-select formControlName="scholarity" [(ngModel)]="selectedScholarityValue" class="full-width" placeholder="Escolaridade" name="scholarity" id="scholarity">
                                <md-option *ngFor="let scholarity of scholaritys" [value]="scholarity.value">
                                    {{ scholarity.viewValue }}
                                </md-option>
                            </md-select>
                        </td>
                        <td>
                            <md-input-container>
                                <input mdInput formControlName="nit" [(ngModel)]="modelNit" placeholder="NIT" id="nit" name="nit" [textMask]="{mask: nitMask}" >
                                <md-error *ngIf="myForm.controls.nit.hasError('onlyPositiveNumbers')">São permitidos apenas valores maiores ou igual a 0.</md-error>
                            </md-input-container>
                        </td>
                        <td>
                            <md-input-container>
                                <input mdInput formControlName="ctps"  [(ngModel)]="modelCTPS"  placeholder="CTPS" id="ctps" name="ctps">
                                <md-error *ngIf="myForm.controls.ctps.hasError('onlyPositiveNumbers')">São permitidos apenas valores maiores ou igual a 0.</md-error>
                            </md-input-container>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <md-input-container>
                                <input mdInput placeholder="CEP" formControlName="cep" id="cep"  [(ngModel)]="modelCEP" name="cep" [textMask]="{mask: cepMask}"  (blur)="autocompleteAdressFromApi()">
                            </md-input-container>
                        </td>
                        <td colspan="2">
                            <md-input-container>
                                <input mdInput placeholder="Endereço Completo" formControlName="completeAddress" [(ngModel)]="modelCompleteAdress" id="completeAddress" name="completeAddress" value="{{completeAddress}}">
                            </md-input-container>
                        </td>
                        <td>
                            <md-input-container>
                                <input mdInput placeholder="Complemento" id="complement"  [(ngModel)]="modelComplement" name="complement" formControlName="complement">
                            </md-input-container>
                        </td>
                        <td>
                            <md-input-container>
                                <input mdInput placeholder="Contato" id="contact" [(ngModel)]="modelContact" name="contact" formControlName="contact">
                            </md-input-container>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <md-input-container>
                                <input mdInput formControlName="cbo" required placeholder="CBO" id="cbo" name="cbo" [(ngModel)]="mycbo" [textMask]="{mask: cboMask}"  (ngModelChange)="checkCboEmpty()" (blur)="autocompleteRoleFromMock()">
                                <md-error *ngIf="myForm.controls.fullname.hasError('required')">Campo Obrigatório.</md-error>
                            </md-input-container>
                        </td>
                        <td colspan="2">

                            <md-select class="full-width" formControlName="role" placeholder="Cargo" [(ngModel)]="selectedLabor" [mdTooltip]="disabled ? 'Digite um CBO válido!' : 'Selecione um cargo'">
                                <md-option *ngFor="let labor of labors" [value]="labor.value">
                                    {{ labor.viewValue }}
                                </md-option>
                            </md-select>
                        </td>
                        <td class="textColumn" colspan="2" rowspan="3">
                            <div fxLayout="row" fxLayoutAlign="end start">
                                <md-input-container>
                                    <textarea mdInput formControlName="textArea" [(ngModel)]="modelFunction" placeholder="Descrição da Função" name="textArea"></textarea>
                                </md-input-container>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <md-select class="full-width" [(ngModel)]="modelSpecialNecessitys" formControlName="necessitys" placeholder="Portador de Nec. Especiais?">
                                <md-option *ngFor="let necessity of necessitys" [value]="necessity.value">
                                    {{ necessity.viewValue }}
                                </md-option>
                            </md-select>
                        </td>
                        <td>
                            <my-date-picker formControlName="admissionDate" name="admissionDate" [(ngModel)]="admissionDateModel"  [options]="myDatePickerOptions" placeholder="Data de Admissão"></my-date-picker>
                        </td>
                        <td>
                            <md-select class="full-width" [(ngModel)]="selectedStatusValue" formControlName="status" placeholder="Status">
                                <md-option *ngFor="let statu of status" [value]="statu.value">
                                    {{ statu.viewValue }}
                                </md-option>
                            </md-select>
                            <p *ngIf="selectedStatusValue=='demitido'">{{selectedStatusValue}}</p>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="formato-material radio-material">
                                <p>Tipo de Contratação:</p>
                                <md-radio-group name="hiredType" formControlName="hiredTypeRadio" (change)="hiredChange()">
                                    <div fxLayout="row" fxLayoutAlign="space-around center">
                                        <md-radio-button name="own" value="true" [(checked)]="own">Próprio</md-radio-button>
                                        <md-radio-button name="outsourced" value="false" [(checked)]="outsource">Terceiro</md-radio-button>
                                    </div>
                                </md-radio-group>
                            </div>
                        </td>
                        <td style="align-text: center" colspan="2">

                            <md-input-container>
                                <input mdInput formControlName="company" [(ngModel)]="modelCompany" placeholder="Empresa" id="company" name="company">
                            </md-input-container>
                        </td>
                    </tr>
                </table>
            </div>
            <div fxLayout="row" fxLayoutAlign="end center">
                <button class="save-and-continue" md-raised-button type="submit">
                        <span>Salvar e continuar</span>
                </button>
            </div>
        </form>
    </safety-card-content>
</safety-card>
