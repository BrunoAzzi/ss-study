<safety-card #safetyCard>
    <safety-card-header>
        <span>dados dos trabalhadores</span>
    </safety-card-header>
    <safety-card-content>
        <form [formGroup]="myForm" (submit)="savePersonalDataWorker(safetyCard)" id="formBasicData"
              name="formBasicData">

            <div class="grid-container">

                <div class="grid-column-min">
                    <div class="grid-row">

                        <md-card class="image-upload">
                            <md-card-content>
                                <img src="" class="md-card-image" alt="">
                            </md-card-content>
                            <md-card-footer>
                                <p>INSIRA A FOTO <br/> DO TRABALHADOR</p>
                            </md-card-footer>
                        </md-card>

                    </div>
                </div>


                <div class="grid-column">

                    <div class="grid-row">
                        <md-input-container>
                            <input mdInput formControlName="cpf" required placeholder="CPF" id="cpf" name="cpf"
                                   [textMask]="{mask: cpfMask}" [(ngModel)]="cpf">
                            <md-error *ngIf="myForm.controls.cpf.hasError('required')">Campo Obrigatório.</md-error>
                            <md-error *ngIf="myForm.controls.cpf.hasError('cpf')">CPF inválido.</md-error>
                        </md-input-container>
                    </div>

                    <div class="grid-row">
                        <my-date-picker formControlName="birthDate" name="birthDate" [options]="myDatePickerOptions"
                                        placeholder="Data da Realização">
                        </my-date-picker>
                    </div>

                    <div class="grid-row">
                        <md-input-container>
                            <input mdInput placeholder="CEP" formControlName="cep" id="cep" [(ngModel)]="myCep"
                                   name="cep"
                                   [textMask]="{mask: cepMask}" (blur)="autocompleteAdressFromApi()">
                        </md-input-container>
                    </div>

                    <div class="grid-row">
                        <md-input-container>
                            <input mdInput formControlName="cbo" required placeholder="CBO" id="cbo" name="cbo"
                                   [(ngModel)]="mycbo" [textMask]="{mask: cboMask}"
                                   (ngModelChange)="checkCboEmpty()"
                                   (blur)="autocompleteRoleFromMock()">
                            <md-error *ngIf="myForm.controls.fullname.hasError('required')">Campo Obrigatório.
                            </md-error>
                        </md-input-container>
                    </div>

                    <div class="grid-row">
                        <md-select formControlName="necessitys"
                                   placeholder="Portador de Nec. Especiais?">
                            <md-option *ngFor="let necessity of necessitys" [value]="necessity.value">
                                {{ necessity.viewValue }}
                            </md-option>
                        </md-select>
                    </div>

                    <div class="grid-row">
                        <md-radio-group name="hiredType" formControlName="hiredTypeRadio" (change)="hiredChange()">
                            <p>Tipo de Contratação:</p>
                            <md-radio-button name="own" value="true" checked="true">Próprio</md-radio-button>
                            <md-radio-button name="outsourced" value="false">Terceiro</md-radio-button>
                        </md-radio-group>
                    </div>

                </div>


                <div class="grid-column">
                    <div class="grid-row">
                        <md-input-container>
                            <input mdInput formControlName="fullname" required placeholder="Nome" id="name" name="name"
                                   [(ngModel)]="fullname">
                            <md-error *ngIf="myForm.controls.fullname.hasError('required')">Campo Obrigatório.
                            </md-error>
                            <md-error *ngIf="myForm.controls.fullname.hasError('onlytext')">São permitidos apenas
                                letras.
                            </md-error>
                        </md-input-container>
                    </div>

                    <div class="grid-row">
                        <md-input-container>
                            <input mdInput formControlName="age" name="age" placeholder="Idade" id="age" type="number">
                        </md-input-container>

                        <md-select formControlName="scholarity" placeholder="Escolaridade"
                                   name="scholarity"
                                   id="scholarity">
                            <md-option *ngFor="let scholarity of scholaritys" [value]="scholarity.value">
                                {{ scholarity.viewValue }}
                            </md-option>
                        </md-select>
                    </div>

                    <div class="grid-row">
                        <md-input-container>
                            <input mdInput placeholder="Endereço Completo" formControlName="completeAddress"
                                   id="completeAddress" name="completeAddress" value="{{completeAddress}}">
                        </md-input-container>
                    </div>

                    <div class="grid-row">
                        <md-select formControlName="role" placeholder="Cargo"
                                   [mdTooltip]="disabled ? 'Digite um CBO válido!' : 'Selecione um cargo'">
                            <md-option *ngFor="let labor of labors" [value]="labor.value">
                                {{ labor.viewValue }}
                            </md-option>
                        </md-select>
                    </div>

                    <div class="grid-row">
                        <my-date-picker formControlName="admissionDate" name="admissionDate"
                                        [options]="myDatePickerOptions" placeholder="Data de Admissão">
                        </my-date-picker>

                        <md-select [(ngModel)]="selectedStatusValue" formControlName="status"
                                   placeholder="Status">
                            <md-option *ngFor="let statu of status" [value]="statu.value">
                                {{ statu.viewValue }}
                            </md-option>
                            <p *ngIf="selectedStatusValue=='demitido'">{{selectedStatusValue}}</p>
                        </md-select>
                    </div>

                    <div class="grid-row">
                        <md-input-container>
                            <input mdInput formControlName="company" placeholder="Empresa" id="company" name="company">
                        </md-input-container>
                    </div>
                </div>


                <div class="grid-column">

                    <div class="grid-row">
                        <md-radio-group formControlName="sex">
                            <p>Sexo:</p>
                            <md-radio-button value="m" checked="checked">Masculino</md-radio-button>
                            <md-radio-button value="f">Feminino</md-radio-button>
                        </md-radio-group>
                    </div>

                    <div class="grid-row">
                        <md-input-container>
                            <input mdInput formControlName="nit" placeholder="NIT" id="nit" name="nit"
                                   [textMask]="{mask: nitMask}">
                            <md-error *ngIf="myForm.controls.nit.hasError('onlyPositiveNumbers')">São permitidos apenas
                                valores maiores ou igual a 0.
                            </md-error>
                        </md-input-container>

                        <md-input-container>
                            <input mdInput type="number" formControlName="ctps" placeholder="CTPS" id="ctps"
                                   name="ctps">
                            <md-error *ngIf="myForm.controls.ctps.hasError('onlyPositiveNumbers')">São permitidos apenas
                                valores
                                maiores ou igual a 0.
                            </md-error>
                        </md-input-container>
                    </div>

                    <div class="grid-row">
                        <md-input-container>
                            <input mdInput placeholder="Complemento" id="complement" name="complement"
                                   formControlName="complement">
                        </md-input-container>

                        <md-input-container>
                            <input mdInput placeholder="Contato" id="contact" name="contact" formControlName="contact">
                        </md-input-container>
                    </div>

                    <div class="grid-row">
                        <md-input-container class="textarea-continer">
                            <textarea mdInput formControlName="textArea" placeholder="Descrição da Função"
                                      name="textArea"></textarea>
                        </md-input-container>
                    </div>

                </div>

            </div>

            <div class="button-default">
                <button md-raised-button type="submit">
                    Salvar e continuar
                </button>
            </div>

        </form>
    </safety-card-content>
</safety-card>
